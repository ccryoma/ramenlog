<script>
$(document).on('turbolinks:load', function(){
  //続きを読む機能
  $('.shop_right_topCom_comment').each(function(e){
    let $comment = $(this);
    // 元の文章を変数に格納
    let comment = $comment.html();
    let commentShow;
    let commentText;
    if($comment.height() > 20){
      // 文章の要素の高さが20を超えていたら隠す用のisHiddenクラスを付与
      $comment.addClass('isHidden');
      commentShow = comment.replace(/<br>/g, "\u00a0").substring(0, 70);
      commentText = commentShow += '......';
      $comment.html(commentText);
    }
  });
});
</script>

<% provide(:title, '店舗検索') %>
<% breadcrumb :search %>
<%= render partial: "result" %>
<%= @result %>

<%= will_paginate %>

<ul class="shops">
  <%= render @shops %>
</ul>

<%= will_paginate %>